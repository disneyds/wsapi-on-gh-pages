{"version":3,"sources":["servises/API.js","servises/localStorage.js","img/defImgSW.jpg","components/CharacterCard.js","components/CharacterList.js","views/Favorites.js"],"names":["BASE_URL","requestCharacters","a","page","axios","get","replace","data","requestHomeWorld","url","requestFilms","requestVehicles","requestFavorites","getFavFromLocalStorage","JSON","parse","localStorage","getItem","setOrRemoveFavInLocalStorage","fav","favList","find","favItem","filderedList","filter","setItem","stringify","push","useStyles","makeStyles","like","position","bottom","right","avatar","left","card","image","width","input","display","CharacterCard","character","classes","useState","homeWorld","setHomeWorld","checked","setChecked","update","setUpdate","homeworld","then","res","name","useEffect","favData","Boolean","Tooltip","title","arrow","Box","className","to","pathname","paths","CHARACTER","Paper","elevation","m","p","textAlign","alt","src","defImgSW","Typography","gender","FormControlLabel","control","Checkbox","icon","FavoriteBorder","onChange","checkedIcon","Favorite","accept","id","type","htmlFor","IconButton","color","aria-label","component","PhotoCamera","CharacterList","characters","Grid","container","spacing","justify","alignItems","map","item","xs","Favorits","setCharacters","localFav","favorites","favChar","char","prev","favoritesCharacters","length","mt","align","variant"],"mappings":"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","file":"static/js/Favorites.cf083ca1.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://swapi.dev/api';\r\n\r\n\r\nexport async function requestCharacters(page = 1) {\r\n  const { data } = await axios.get(`${BASE_URL}/people?page=${page}`.replace('http:', 'https:'));\r\n  return data;\r\n}\r\n\r\nexport async function requestPlanets(page = 1) {\r\n  const { data } = await axios.get(`${BASE_URL}/planets?page=${page}`.replace('http:', 'https:'));\r\n  return data;\r\n}\r\n\r\nexport async function requestHomeWorld(url) {\r\n    const { data } = await axios.get(`${url}`.replace('http:', 'https:'));\r\n  return data;\r\n}\r\n\r\nexport async function requestFilms(url) {\r\n    const { data } = await axios.get(`${url}`.replace('http:', 'https:'));\r\n  return data;\r\n}\r\n\r\nexport async function requestVehicles (url) {\r\n    const { data } = await axios.get(`${url}`.replace('http:', 'https:'));\r\n  return data;\r\n}\r\n\r\nexport async function requestFavorites(url) {\r\n    const { data } = await axios.get(`${url}`.replace('http:', 'https:'));\r\n  return data;\r\n}\r\n\r\n","export function getFavFromLocalStorage() {\r\n    return JSON.parse(localStorage.getItem('favorits'))\r\n}\r\n\r\nexport function setOrRemoveFavInLocalStorage  (fav) {\r\n    const favList = getFavFromLocalStorage() ?? []\r\n    if (favList.find(favItem => favItem === fav)) {\r\n      const filderedList = favList.filter(favItem => favItem !== fav)\r\n      return localStorage.setItem('favorits', JSON.stringify(filderedList)) \r\n    }\r\n    favList.push(fav)\r\n    localStorage.setItem('favorits', JSON.stringify(favList))\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/defImgSW.beebfe62.jpg\";","import React, { useEffect, useState } from 'react'\r\nimport paths from '../routes/paths';\r\nimport { Link } from 'react-router-dom';\r\nimport { requestHomeWorld } from '../servises/API'\r\nimport {getFavFromLocalStorage, setOrRemoveFavInLocalStorage} from '../servises/localStorage'\r\nimport { Box, Checkbox, FormControlLabel, IconButton, Paper, Tooltip, Typography } from '@material-ui/core'\r\nimport { Favorite, FavoriteBorder, PhotoCamera } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport defImgSW from '../img/defImgSW.jpg'\r\n\r\nconst useStyles = makeStyles({\r\n  like: {\r\n    position: 'absolute',\r\n    bottom: '30px',\r\n    right: '5px',\r\n  },\r\n  avatar: {\r\n    position: 'absolute',\r\n    bottom: '28px',\r\n    left: '15px',\r\n  },\r\n  card: {\r\n    position: 'relative',\r\n    },\r\n  image: {\r\n      width: '240px',\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n});\r\n\r\nexport default function CharacterCard({ character, avatar }) {\r\n    const classes = useStyles();\r\n    const [homeWorld, setHomeWorld] = useState('');\r\n    const [checked, setChecked] = useState(false)\r\n    const [update, setUpdate] = useState(1)\r\n    requestHomeWorld(character.homeworld).then(res => setHomeWorld(res.name))\r\n\r\n    useEffect(() => {\r\n        const favData = getFavFromLocalStorage()\r\n        setChecked(Boolean(favData.find(fav => fav === character.url)))\r\n    }, [update])\r\n\r\n    return <Tooltip title={character.name} arrow>\r\n        <Box className={classes.card}>\r\n        <Link to={{ pathname: `${paths.CHARACTER(character.name)}` }}>\r\n            <Paper elevation={3}>\r\n                <Box m={1} p={2} textAlign='center'>\r\n                <img className={classes.image} alt='avatar' src={avatar || defImgSW} />\r\n                <Typography>Name: {character.name}</Typography>\r\n                <Typography>Gender: {character.gender !== \"n/a\" ? character.gender : 'creature'}</Typography>\r\n                <Typography>Home World: {homeWorld}</Typography>\r\n                </Box>\r\n            </Paper>\r\n        </Link>\r\n\r\n        <FormControlLabel\r\n            className={classes.like}\r\n            control={<Checkbox icon={<FavoriteBorder />} \r\n                onChange={() => { \r\n                    setOrRemoveFavInLocalStorage(character.url)\r\n                    setUpdate(update + 1)\r\n                }}\r\n                checked= {checked}\r\n                checkedIcon={<Favorite />} \r\n            />}\r\n        />\r\n        <input accept=\"image/*\" className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n        <label htmlFor=\"icon-button-file\">\r\n        <IconButton className={classes.avatar} color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n          <PhotoCamera />\r\n        </IconButton>\r\n        </label>   \r\n        </Box>\r\n    </Tooltip>\r\n}\r\n","import { Grid } from '@material-ui/core'\r\nimport CharacterCard from './CharacterCard'\r\n\r\nexport default function CharacterList({ characters }) {\r\n    return<>\r\n        <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\r\n            {characters.map((character) => {\r\n                return  <Grid key={character.url} item xs={3}>\r\n                            <CharacterCard character={character}/>\r\n                        </Grid>\r\n                })\r\n            }\r\n        </Grid>\r\n    </>\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Box, Paper, Typography } from '@material-ui/core';\r\nimport { requestFavorites } from '../servises/API';\r\nimport { getFavFromLocalStorage } from '../servises/localStorage';\r\nimport CharacterList from '../components/CharacterList';\r\n\r\nexport default function Favorits() {\r\n    const [characters, setCharacters] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        async function favoritesCharacters() {\r\n        const localFav = getFavFromLocalStorage()\r\n        const favorites = localFav === null ? [] : localFav\r\n        await favorites.map(favChar => requestFavorites(favChar)\r\n            .then(char => setCharacters(prev=>{\r\n                const isInPrev = prev.find(({name})=>name===char.name)\r\n                if (isInPrev) return prev\r\n                return [...prev, char]\r\n            })\r\n        ))\r\n    }\r\n    favoritesCharacters()\r\n    }, [characters])\r\n\r\n    return <>\r\n        {characters.length === 0 \r\n        ? <Paper  elevation={3}>\r\n            <Box mt={13} p={3}>\r\n                <Typography align='center' variant='h4'> There is no one here yet! </Typography>\r\n            </Box>\r\n          </Paper>\r\n        :<Paper  elevation={3}>\r\n            <Box mt={9} p={3}>\r\n                <CharacterList characters={characters} />\r\n            </Box>\r\n        </Paper>}\r\n    </>\r\n}"],"sourceRoot":""}